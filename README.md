# price-map

**Web app made to compare prices of different products across multiple stores.**  

# Deployment

## Prerequisites

This project requires [Docker](https://docs.docker.com/engine/install/) version 27.3.1 or newer.  

```
docker -v
```

## Container

Build & run  
```
docker compose up --build
```

Dispose
```
docker compose down
```

# Development

## Prerequisites

This project requires [go](https://go.dev/doc/install) version 1.23.3 or newer and [NodeJS and NPM](https://nodejs.org/en) version 22.0.0 or newer.  

Make sure **go** and **NodeJS**/**npm** is installed correctly.  

```
go version
node -v
npm -v
```

## Container
*Recommended way*

> [!NOTE]  
> Files `compose.*.yaml` are auto-generated by `.docker/compose-config.sh` script. To modify `dev` and `ci` configs, edit `.docker/compose.*.override.yaml` files and re-run config script.

Build & run  
```
docker compose -f compose.dev.yaml up --build
```

Available interfaces on dev build:  
- [*:8080](http://localhost:8080/) - webapp & api server  
- [*:5050](http://localhost:5050/) - pgAdmin interface  
- [*:6060](http://localhost:6060/) - swagger editor  
- [*:5432](http://localhost:5050/) - PostgreSQL server  

Dispose
```
docker compose -f compose.dev.yaml down -v
```

## Atomic

Launch database (through container)  
```
docker compose -f compose.dev.yaml up --build
```

Launch backend  

*Windows:*
```powershell
cd back
go run main.go
```

*Linux:*
```bash
cd back
make run
```

Launch frontend  

```bash
cd front
npm install
npm start
```

The app will be available under http://localhost:4200/  

# Documentation

OpenAPI specification is stored in `docs/openapi.json`.  
Local version can be viewed and edited using [Swagger Editor](https://github.com/swagger-api/swagger-editor) provided with the `dev` Docker compose config and current master version using [an online version](https://editor.swagger.io/?url=https://raw.githubusercontent.com/vaexey/sut-se-price-map/refs/heads/master/docs/openapi.yaml).